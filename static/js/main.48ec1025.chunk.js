(this["webpackJsonpcodenames-scaler"]=this["webpackJsonpcodenames-scaler"]||[]).push([[0],{45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),o=a.n(s),c=a(13),i=a(2),l=a(3),u=a(1),b={Blue:"#0062cc",Red:"#e3242b",Bystander:"#bfaa8c",Assassin:"#1b1b1b"},d=function(e){var t=e.isTop,a=e.color,n=a?b[a]:"#FFE800";return Object(u.jsx)("div",{style:{position:"absolute",top:t?0:void 0,bottom:t?void 0:0,left:"40%",height:"32px",width:"20%",margin:"auto",transform:"perspective(10px) rotateX(".concat(t?"-":"","1deg)"),borderRadius:t?"4px 4px 8px 8px":"8px 8px 4px 4px",background:"linear-gradient(to right, ".concat(n," 5%, #FFF 45%, #FFF 55%, ").concat(n," 95%)")}})},j=function(e){var t=e.isLeft,a=e.color,n=a?b[a]:"#FFE800";return Object(u.jsx)("div",{style:{position:"absolute",left:t?0:void 0,right:t?void 0:0,top:"40%",height:"20%",width:"32px",margin:"auto",transform:"perspective(10px) rotateY(".concat(t?"":"-","1deg)"),borderRadius:t?"4px 8px 8px 4px":"8px 4px 4px 8px",background:"linear-gradient(to bottom, ".concat(n," 5%, #FFF 45%, #FFF 55%, ").concat(n," 95%)")}})},x=function(e){var t=e.layout,a=e.startColor;return Object(u.jsxs)("div",{style:{position:"relative",display:"flex",width:"80vh",height:"80vh",margin:"auto",padding:"32px",background:"#434343",borderRadius:"12px",border:"1px solid #777",boxShadow:"8px 8px 12px #2b2b2b"},children:[Object(u.jsx)(d,{isTop:!0,color:a}),Object(u.jsx)(d,{isTop:!1,color:a}),Object(u.jsx)(j,{isLeft:!0,color:a}),Object(u.jsx)(j,{isLeft:!1,color:a}),Object(u.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",borderRadius:"12px",background:"#2b2b2b",border:"1px solid #777",padding:"8px"},children:t.map((function(e){return Object(u.jsx)("div",{style:{display:"flex",flexDirection:"row",flex:1},children:e.map((function(e){return Object(u.jsx)("div",{style:{flex:1,background:b[e],margin:"4px",borderRadius:"12px",boxShadow:"6px 6px 8px #1c1c1c",border:"1px solid #555"}})}))})}))})]})},p=a(9),O=a(4),f=a(7),h=["label"],v=["title","labels","value","defaultValue","onChange"],g=["value","onChange"],m={background:"none",border:"none",cursor:"pointer",fontFamily:"Helvetica,Arial,sans-serif",fontSize:"16px",textDecoration:"underline",color:"#FFF"},y=function(e){var t=e.title,a=e.inputs;return Object(u.jsxs)("div",{style:{marginLeft:"24px"},children:[Object(u.jsx)("div",{style:{paddingLeft:"16px",paddingBottom:"8px"},children:Object(u.jsx)("b",{children:t})}),Object(u.jsx)("div",{style:{border:"1px solid #555",padding:"16px",borderRadius:"16px",boxShadow:"6px 6px 8px #2b2b2b"},children:a})]})},C=function(e){var t=e.label,a=Object(p.a)(e,h),r=Object(n.useRef)(null);return Object(u.jsxs)("label",{style:{display:"flex",flexDirection:"column",margin:"8px"},children:[Object(u.jsxs)("span",{children:[t," ",void 0!=a.defaultValue&&Object(u.jsxs)("button",{type:"button",style:Object(O.a)(Object(O.a)({},m),{},{color:"#aaa"}),onClick:function(){r.current&&(r.current.value=""+a.defaultValue)},children:["(Suggested: ",a.defaultValue,")"]})]}),Object(u.jsx)("input",Object(O.a)(Object(O.a)({},a),{},{ref:function(e){return r.current=e}}))]})},R=function(e){var t=e.title,a=e.labels,n=e.value,r=e.defaultValue,s=e.onChange,o=Object(p.a)(e,v),c=w(n,r||a[0]),i=Object(l.a)(c,2),b=i[0],d=i[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[t," ",void 0!=r&&Object(u.jsxs)("button",{type:"button",style:Object(O.a)(Object(O.a)({},m),{},{color:"#aaa"}),onClick:function(){s&&s({target:{value:r}}),d(r)},children:["(Suggested: ",r,")"]})]}),Object(u.jsx)("hr",{}),a.map((function(e){return Object(u.jsxs)("label",{style:{marginRight:"6px"},children:[e,Object(u.jsx)("input",Object(O.a)({type:"radio",value:e,checked:e==b,onChange:function(t){d(e),s&&s(t)}},o))]})}))]})},S=function(){return Math.random().toString(36).slice(2)},F=function(e){var t=e.value,a=e.onChange,n=Object(p.a)(e,g),r=w(t,S()),s=Object(l.a)(r,2),o=s[0],c=s[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:["Seed",Object(u.jsx)("button",{type:"button",style:Object(O.a)(Object(O.a)({},m),{},{color:"#aaa"}),onClick:function(){var e=S();c(e),a&&a({target:{value:e}})},children:"(New Seed)"})]}),Object(u.jsx)("input",Object(O.a)(Object(O.a)({},n),{},{type:"text",value:o,onChange:function(e){c(e.target.value),a&&a(e)}}))]})};function w(e,t){var a=Object(n.useState)(t),r=Object(l.a)(a,2),s=r[0];return[void 0!==e?e:s,r[1]]}var k=function(e){var t=e.initialFormData,a=e.onSubmit,r=t||{boardRows:5,boardColumns:5,cards:8,startCards:1,assassins:1,startColor:"Random",seed:S()},s=Object(n.useState)(r.boardRows),o=Object(l.a)(s,2),c=o[0],i=o[1],b=Object(n.useState)(r.boardColumns),d=Object(l.a)(b,2),j=d[0],x=d[1],p=Object(n.useState)(r.cards),h=Object(l.a)(p,2),v=h[0],g=h[1],w=Object(n.useState)(r.startCards),k=Object(l.a)(w,2),B=k[0],V=k[1],D=Object(n.useState)(r.assassins),N=Object(l.a)(D,2),T=N[0],I=N[1],L=Object(n.useState)(r.startColor),A=Object(l.a)(L,2),M=A[0],E=A[1],J=Object(n.useState)(r.seed),G=Object(l.a)(J,2),H=G[0],P=G[1],z=Object(n.useState)(null),W=Object(l.a)(z,2),X=W[0],Y=W[1],q=Object(n.useRef)(null);return Object(u.jsxs)("form",{ref:function(e){return q.current=e},onSubmit:function(e){e.preventDefault();var t,n={},r=Object(f.a)(new FormData(e.currentTarget).entries());try{for(r.s();!(t=r.n()).done;){var s=Object(l.a)(t.value,2),o=s[0],c=s[1],i=parseInt(c);n[o]=isNaN(i)?c:i}}catch(j){r.e(j)}finally{r.f()}var u,b=n.boardRows*n.boardColumns,d=2*n.cards+n.startCards+n.assassins;if(d>=b)return u="Too many configured cards (".concat(d,") for this board (").concat(n.boardRows,"x").concat(n.boardColumns,"=").concat(b,")"),setTimeout((function(){return Y(null)}),6e3),Y(u),!1;a(n)},style:{margin:"32px",border:"1px solid #555",borderRadius:"16px",padding:"16px",boxShadow:"8px 8px 12px #2b2b2b"},children:[Object(u.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",marginBottom:"12px"},children:[Object(u.jsx)(y,{title:"Board",inputs:[Object(u.jsx)(C,{label:"Rows",type:"number",name:"boardRows",value:c,onChange:function(e){return i(parseInt(e.target.value))},defaultValue:5}),Object(u.jsx)(C,{label:"Columns",type:"number",name:"boardColumns",value:j,onChange:function(e){return x(parseInt(e.target.value))},defaultValue:5})]}),Object(u.jsx)(y,{title:"Game",inputs:[Object(u.jsx)(C,{label:"Team Cards",type:"number",name:"cards",value:v,onChange:function(e){return g(parseInt(e.target.value))},defaultValue:Math.floor(c*j/3)||8}),Object(u.jsx)(C,{label:"Start Handicap",type:"number",name:"startCards",value:B,onChange:function(e){return V(parseInt(e.target.value))},defaultValue:1}),Object(u.jsx)(C,{label:"Assassins",type:"number",name:"assassins",value:T,onChange:function(e){return I(parseInt(e.target.value))},defaultValue:Math.floor(c*j/15)||1}),Object(u.jsx)(R,{title:"Starting Team",labels:["Red","Blue","Random"],name:"startColor",value:M,onChange:function(e){return E(e.target.value)},defaultValue:"Random"})]}),Object(u.jsx)(y,{title:"Random",inputs:[Object(u.jsx)(F,{name:"seed",value:H,onChange:function(e){return P(e.target.value)}})]})]}),Object(u.jsx)("button",{style:Object(O.a)(Object(O.a)({},m),{},{marginRight:"8px"}),children:"Generate"}),Object(u.jsx)("button",{type:"button",onClick:function(){q.current&&(i(5),x(5),q.current.reset())},style:Object(O.a)(Object(O.a)({},m),{},{marginRight:"8px"}),children:"Reset Defaults"}),X&&Object(u.jsx)("span",{className:"fade-out",style:{color:"#e3242b"},children:X})]})},B=a(19),V=a.n(B),D=a(6),N=a.n(D),T=a(20),I=a.n(T),L=Object.keys({boardRows:0,boardColumns:0,cards:0,startCards:0,startColor:"Random",assassins:0,seed:""}).sort(),A=function(e){return e&&e.boardRows&&e.boardColumns&&e.cards&&!isNaN(e.startCards)&&!isNaN(e.assassins)&&e.seed},M=function(e){return"Random"==e.startColor?J(e.seed+"start",0,1)?"Blue":"Red":e.startColor},E=function(e){var t=e.boardRows,a=e.boardColumns,n=e.cards,r=e.startCards,s=e.startColor,o=e.assassins,c=e.seed,i=n+("Blue"==s?r:0),l=n+("Red"==s?r:0),u=N()(Array(t*a),"Bystander");return N()(u,"Blue",0,i),N()(u,"Red",i,i+l),N()(u,"Assassin",i+l,i+l+o),function(e,t){for(var a=e.length-1;a>0;a--){var n=J(a+t,0,a),r=[e[n],e[a]];e[a]=r[0],e[n]=r[1]}}(u,c),V()(u,t)};var J=function(e,t,a){var n=I()(e);return Math.floor(n()*(a-t+1)+t)},G=function(){var e=Object(i.h)().slug,t=void 0;e&&(t=function(e){var t=[];try{t=JSON.parse(atob(e))}catch(n){return}if(t&&t.length==L.length){var a={};if(L.forEach((function(e,n){return a[e]=t[n]})),A(a))return a}}(e));var a=Object(n.useState)(t),r=Object(l.a)(a,2),s=r[0],o=r[1],c=Object(i.g)(),b=function(e){o(e),c("/codenames-scaler/".concat(function(e){var t=Object.entries(e).sort((function(e,t){var a=Object(l.a)(e,1)[0],n=Object(l.a)(t,1)[0];return a.localeCompare(n)})).map((function(e){var t=Object(l.a)(e,2);return t[0],t[1]}));return btoa(JSON.stringify(t))}(e)))};return Object(u.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(u.jsx)("h1",{style:{margin:"32px"},children:"Codenames Board Generator"}),Object(u.jsx)(k,{initialFormData:t,onSubmit:function(e){return b(e)}}),s&&Object(u.jsx)(x,{layout:E(s),startColor:M(s)})]})},H=function(){return Object(u.jsx)(c.a,{children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/",element:Object(u.jsx)(i.a,{replace:!0,to:"/codenames-scaler"})}),Object(u.jsx)(i.b,{path:"/codenames-scaler",element:Object(u.jsx)(G,{})}),Object(u.jsx)(i.b,{path:"/codenames-scaler/:slug",element:Object(u.jsx)(G,{})})]})})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),s(e),o(e)}))};a(45);o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(H,{})}),document.getElementById("root")),P()}},[[46,1,2]]]);
//# sourceMappingURL=main.48ec1025.chunk.js.map