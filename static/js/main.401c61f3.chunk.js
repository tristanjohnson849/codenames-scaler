(this["webpackJsonpcodenames-scaler"]=this["webpackJsonpcodenames-scaler"]||[]).push([[0],{45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),o=a.n(s),c=a(13),i=a(2),l=a(3),u=a(1),d={Blue:"#268bad",Red:"#c9461d",Bystander:"#af926e",Assassin:"#1b1b1b"},b=function(e){var t=e.isTop,a=e.color,n=a?d[a]:"#FFE800";return Object(u.jsx)("div",{style:{position:"absolute",top:t?0:void 0,bottom:t?void 0:0,left:"40%",height:"32px",width:"20%",margin:"auto",transform:"perspective(10px) rotateX(".concat(t?"-":"","1deg)"),borderRadius:t?"4px 4px 8px 8px":"8px 8px 4px 4px",background:"linear-gradient(to right, ".concat(n," 5%, #FFF 45%, #FFF 55%, ").concat(n," 95%)")}})},j=function(e){var t=e.isLeft,a=e.color,n=a?d[a]:"#FFE800";return Object(u.jsx)("div",{style:{position:"absolute",left:t?0:void 0,right:t?void 0:0,top:"40%",height:"20%",width:"32px",margin:"auto",transform:"perspective(10px) rotateY(".concat(t?"":"-","1deg)"),borderRadius:t?"4px 8px 8px 4px":"8px 4px 4px 8px",background:"linear-gradient(to bottom, ".concat(n," 5%, #FFF 45%, #FFF 55%, ").concat(n," 95%)")}})},x=function(e){var t=e.layout,a=e.startColor;return Object(u.jsxs)("div",{style:{position:"relative",display:"flex",width:"80vh",height:"80vh",margin:"auto",padding:"32px",background:"#434343",borderRadius:"12px",border:"1px solid #777",boxShadow:"8px 8px 12px #2b2b2b"},children:[Object(u.jsx)(b,{isTop:!0,color:a}),Object(u.jsx)(b,{isTop:!1,color:a}),Object(u.jsx)(j,{isLeft:!0,color:a}),Object(u.jsx)(j,{isLeft:!1,color:a}),Object(u.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",borderRadius:"12px",background:"#2b2b2b",border:"1px solid #777",padding:"8px"},children:t.map((function(e){return Object(u.jsx)("div",{style:{display:"flex",flexDirection:"row",flex:1},children:e.map((function(e){return Object(u.jsx)("div",{style:{flex:1,background:d[e],margin:"4px",borderRadius:"12px",boxShadow:"6px 6px 8px #1c1c1c",border:"1px solid #555"}})}))})}))})]})},p=a(9),O=a(7),f=a(4),h=["label"],g=["title","labels","value","defaultValue","onChange"],v=["value","onChange"],m={background:"none",border:"none",cursor:"pointer",fontFamily:"Helvetica,Arial,sans-serif",fontSize:"16px",textDecoration:"underline",color:"#FFF"},C={boardRows:5,boardColumns:5,cards:8,startCards:1,assassins:1,startColor:"Random"},y=function(e){var t=e.title,a=e.inputs;return Object(u.jsxs)("div",{style:{marginLeft:"24px"},children:[Object(u.jsx)("div",{style:{paddingLeft:"16px",paddingBottom:"8px"},children:Object(u.jsx)("b",{children:t})}),Object(u.jsx)("div",{style:{border:"1px solid #555",padding:"16px",borderRadius:"16px",boxShadow:"6px 6px 8px #2b2b2b"},children:a})]})},R=function(e){var t=e.label,a=Object(p.a)(e,h),r=Object(n.useRef)(null);return Object(u.jsxs)("label",{style:{display:"flex",flexDirection:"column",margin:"8px"},children:[Object(u.jsxs)("span",{children:[t," ",void 0!=a.defaultValue&&Object(u.jsxs)("button",{type:"button",style:Object(f.a)(Object(f.a)({},m),{},{color:"#aaa"}),onClick:function(){r.current&&(r.current.value=""+a.defaultValue),a.onChange&&a.onChange({target:{value:a.defaultValue}})},children:["(Suggested: ",a.defaultValue,")"]})]}),Object(u.jsx)("input",Object(f.a)(Object(f.a)({},a),{},{ref:function(e){return r.current=e}}))]})},S=function(e){var t=e.title,a=e.labels,n=e.value,r=e.defaultValue,s=e.onChange,o=Object(p.a)(e,g),c=k(n,r||a[0]),i=Object(l.a)(c,2),d=i[0],b=i[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[t," ",void 0!=r&&Object(u.jsxs)("button",{type:"button",style:Object(f.a)(Object(f.a)({},m),{},{color:"#aaa"}),onClick:function(){s&&s({target:{value:r}}),b(r)},children:["(Suggested: ",r,")"]})]}),Object(u.jsx)("hr",{}),a.map((function(e){return Object(u.jsxs)("label",{style:{marginRight:"6px"},children:[e,Object(u.jsx)("input",Object(f.a)({type:"radio",value:e,checked:e==d,onChange:function(t){b(e),s&&s(t)}},o))]})}))]})},F=function(){return Math.random().toString(36).slice(2)},w=function(e){var t=e.value,a=e.onChange,n=Object(p.a)(e,v),r=k(t,F()),s=Object(l.a)(r,2),o=s[0],c=s[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:["Seed",Object(u.jsx)("button",{type:"button",style:Object(f.a)(Object(f.a)({},m),{},{color:"#aaa"}),onClick:function(){var e=F();c(e),a&&a({target:{value:e}})},children:"(New Seed)"})]}),Object(u.jsx)("input",Object(f.a)(Object(f.a)({},n),{},{type:"text",value:o,onChange:function(e){c(e.target.value),a&&a(e)}}))]})};function k(e,t){var a=Object(n.useState)(t),r=Object(l.a)(a,2),s=r[0];return[void 0!==e?e:s,r[1]]}var B=function(e){var t=e.initialFormData,a=e.onSubmit,r=t||Object(f.a)(Object(f.a)({},C),{},{seed:F()}),s=Object(n.useState)(r.boardRows),o=Object(l.a)(s,2),c=o[0],i=o[1],d=Object(n.useState)(r.boardColumns),b=Object(l.a)(d,2),j=b[0],x=b[1],p=Object(n.useState)(r.cards),h=Object(l.a)(p,2),g=h[0],v=h[1],k=Object(n.useState)(r.startCards),B=Object(l.a)(k,2),V=B[0],D=B[1],N=Object(n.useState)(r.assassins),T=Object(l.a)(N,2),I=T[0],L=T[1],A=Object(n.useState)(r.startColor),M=Object(l.a)(A,2),E=M[0],J=M[1],G=Object(n.useState)(r.seed),H=Object(l.a)(G,2),P=H[0],z=H[1],W=Object(n.useState)(null),X=Object(l.a)(W,2),Y=X[0],q=X[1];return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,n={},r=Object(O.a)(new FormData(e.currentTarget).entries());try{for(r.s();!(t=r.n()).done;){var s=Object(l.a)(t.value,2),o=s[0],c=s[1],i=parseInt(c);n[o]=isNaN(i)?c:i}}catch(j){r.e(j)}finally{r.f()}var u,d=n.boardRows*n.boardColumns,b=2*n.cards+n.startCards+n.assassins;if(b>=d)return u="Too many configured cards (".concat(b,") for this board (").concat(n.boardRows,"x").concat(n.boardColumns,"=").concat(d,")"),setTimeout((function(){return q(null)}),6e3),q(u),!1;a(n)},style:{margin:"32px",border:"1px solid #555",borderRadius:"16px",padding:"16px",boxShadow:"8px 8px 12px #2b2b2b"},children:[Object(u.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",marginBottom:"12px"},children:[Object(u.jsx)(y,{title:"Board",inputs:[Object(u.jsx)(R,{label:"Rows",type:"number",name:"boardRows",value:c,onChange:function(e){return i(parseInt(e.target.value))},defaultValue:5}),Object(u.jsx)(R,{label:"Columns",type:"number",name:"boardColumns",value:j,onChange:function(e){return x(parseInt(e.target.value))},defaultValue:5})]}),Object(u.jsx)(y,{title:"Game",inputs:[Object(u.jsx)(R,{label:"Team Cards",type:"number",name:"cards",value:g,onChange:function(e){return v(parseInt(e.target.value))},defaultValue:Math.floor(c*j/3)||8}),Object(u.jsx)(R,{label:"Start Handicap",type:"number",name:"startCards",value:V,onChange:function(e){return D(parseInt(e.target.value))},defaultValue:1}),Object(u.jsx)(R,{label:"Assassins",type:"number",name:"assassins",value:I,onChange:function(e){return L(parseInt(e.target.value))},defaultValue:Math.floor(c*j/15)||1}),Object(u.jsx)(S,{title:"Starting Team",labels:["Red","Blue","Random"],name:"startColor",value:E,onChange:function(e){return J(e.target.value)},defaultValue:"Random"})]}),Object(u.jsx)(y,{title:"Random",inputs:[Object(u.jsx)(w,{name:"seed",value:P,onChange:function(e){return z(e.target.value)}})]})]}),Object(u.jsx)("button",{style:Object(f.a)(Object(f.a)({},m),{},{marginRight:"8px"}),children:"Generate"}),Object(u.jsx)("button",{type:"button",onClick:function(){i(C.boardRows),x(C.boardColumns),v(C.cards),D(C.startCards),L(C.assassins),J(C.startColor),z(F())},style:Object(f.a)(Object(f.a)({},m),{},{marginRight:"8px"}),children:"Reset Defaults"}),Y&&Object(u.jsx)("span",{className:"fade-out",style:{color:"#c9461d"},children:Y})]})},V=a(19),D=a.n(V),N=a(6),T=a.n(N),I=a(20),L=a.n(I),A=Object.keys({boardRows:0,boardColumns:0,cards:0,startCards:0,startColor:"Random",assassins:0,seed:""}).sort(),M=function(e){return e&&e.boardRows&&e.boardColumns&&e.cards&&!isNaN(e.startCards)&&!isNaN(e.assassins)&&e.seed},E=function(e){return"Random"==e.startColor?G(e.seed+"start",0,1)?"Blue":"Red":e.startColor},J=function(e){var t=e.boardRows,a=e.boardColumns,n=e.cards,r=e.startCards,s=e.startColor,o=e.assassins,c=e.seed,i=E({startColor:s,seed:c}),l=n+("Blue"==i?r:0),u=n+("Red"==i?r:0),d=T()(Array(t*a),"Bystander");return T()(d,"Blue",0,l),T()(d,"Red",l,l+u),T()(d,"Assassin",l+u,l+u+o),function(e,t){for(var a=e.length-1;a>0;a--){var n=G(a+t,0,a),r=[e[n],e[a]];e[a]=r[0],e[n]=r[1]}}(d,c),D()(d,t)};var G=function(e,t,a){var n=L()(e);return Math.floor(n()*(a-t+1)+t)},H=function(){var e=Object(i.g)().slug,t=void 0;e&&(t=function(e){var t=[];try{t=JSON.parse(atob(e))}catch(n){return}if(t&&t.length==A.length){var a={};if(A.forEach((function(e,n){return a[e]=t[n]})),M(a))return a}}(e));var a=Object(n.useState)(t),r=Object(l.a)(a,2),s=r[0],o=r[1],c=Object(i.f)(),d=function(e){o(e),c("/".concat(function(e){var t=Object.entries(e).sort((function(e,t){var a=Object(l.a)(e,1)[0],n=Object(l.a)(t,1)[0];return a.localeCompare(n)})).map((function(e){var t=Object(l.a)(e,2);return t[0],t[1]}));return btoa(JSON.stringify(t))}(e)))};return Object(u.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(u.jsx)("h1",{style:{margin:"32px"},children:"Codenames Board Generator"}),Object(u.jsx)(B,{initialFormData:t,onSubmit:function(e){return d(e)}}),s&&Object(u.jsx)(x,{layout:J(s),startColor:E(s)})]})},P=function(){return Object(u.jsx)(c.a,{children:Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{path:"",element:Object(u.jsx)(H,{})}),Object(u.jsx)(i.a,{path:":slug",element:Object(u.jsx)(H,{})})]})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),s(e),o(e)}))};a(45);o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(P,{})}),document.getElementById("root")),z()}},[[46,1,2]]]);
//# sourceMappingURL=main.401c61f3.chunk.js.map