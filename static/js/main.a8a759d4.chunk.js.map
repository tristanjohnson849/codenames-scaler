{"version":3,"sources":["BoardForm/CollapseButton.tsx","BoardView.tsx","BoardForm/BasicInput.tsx","BoardForm/InputCard.tsx","BoardForm/RadioInput.tsx","BoardForm/SeedInput.tsx","BoardForm/BoardForm.tsx","BoardEncoding.ts","BoardGenerator.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["COLLAPSIBLE_EASING","CollapseButton","isOpen","label","closeLabelOnOpen","style","position","fontSize","cursor","marginLeft","marginBottom","undefined","trigger","open","transitionTime","easing","padding","top","right","display","transition","transform","typeToColor","Blue","Red","Bystander","Assassin","DuetCorrect","SingleBoardView","cards","startColor","maxWidth","minWidth","aspectRatio","margin","background","borderRadius","border","boxShadow","isTop","color","isLeft","flex","flexDirection","map","row","colIndex","cellType","rowIndex","DuetBoardView","info","teamName","cell","item","HLight","lightColor","bottom","left","height","width","VLight","BoardSection","defaultOpen","useState","isBoardOpen","setIsBoardOpen","tabIndex","handleTriggerClick","window","confirm","containerElementProps","PAGE_SECTION_STYLE","BoardView","layout","mode","BasicInput","value","defaultValue","inputProps","useControllableState","inputValue","setInputValue","type","linkButtonStyle","onClick","onChange","target","e","InputCard","title","children","paddingLeft","paddingBottom","RadioInput","labels","checkedLabel","setCheckedLabel","marginRight","checked","SeedInput","key","randomSeed","seed","setSeed","newSeed","fontFamily","textDecoration","defaultFormValues","Standard","boardRows","boardColumns","startCards","assassins","Duet","suggestedCards","rows","columns","gameMode","Math","floor","suggestedAssassins","random","toString","slice","initialValue","stateValue","BoardForm","formData","setFormData","startValues","proxyGameMode","setProxyGameMode","_setGameMode","setRows","setColumns","setCards","setStartCards","setAssassins","setStartColor","newSeedOnGenerate","setNewSeedOnGenerate","closeConfigOnGenerate","setCloseConfigOnGenerate","error","setError","isCollapsibleOpen","setIsCollapsibleOpen","resetFormInputs","setResetFormInputs","onTriggerOpening","onTriggerClosing","onSubmit","preventDefault","FormData","currentTarget","entries","k","v","test","parseInt","action","totalCards","configuredCards","setTimeout","flexWrap","name","onClose","newMode","defaults","setGameMode","className","WRITE_VERSION","v1FormDataKeys","sort","v2FormDataKeys","formDataKeys","encodeFormData","orderedValues","k1","k2","localeCompare","btoa","JSON","stringify","v1DecodeFormData","maybeFormData","decodeWithKeys","validate","v2DecodeFormData","orderedKeys","length","ret","forEach","i","isValidFormData","isNaN","getStartColor","seededRandomInt","createLayout","createStandardLayout","createDuetLayout","rand","actualStartColor","blueCards","redCards","flatLayout","fill","Array","step","_fill","shuffle","chunk","bothCorrect","correctAssassins","min","correctBystanders","remainderAfterCorrect","remainingAssassins","bystanderAssassins","bothAssassins","arr","start","end","j","seedrandom","max","flexGrow","BoardGenerator","slug","useParams","initialFormData","version","parse","atob","decodeFormData","navigate","useNavigate","setFormDataAndHash","newFormData","href","alignItems","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a8a759d4.chunk.js","sourcesContent":["import Collapsible from \"react-collapsible\";\n\ninterface CollapseButtonProps {\n    isOpen: boolean;\n    label?: string;\n    closeLabelOnOpen?: boolean\n}\n\nexport const COLLAPSIBLE_EASING = \"cubic-bezier(.5,.9,.2,1.0)\";\nexport const COLLAPSIBLE_TIME = 400;\n\nconst CollapseButton = ({isOpen, label, closeLabelOnOpen = true}: CollapseButtonProps) => {\n    return (\n        <div style={{ \n            position: 'relative',\n            fontSize: '24px',\n            cursor: 'pointer',\n            marginLeft: '16px',\n            marginBottom: isOpen && !closeLabelOnOpen ? '16px' : undefined\n        }}>\n            {closeLabelOnOpen \n                ? <Collapsible\n                    trigger=\"\"\n                    open={!isOpen}\n                    transitionTime={COLLAPSIBLE_TIME}\n                    easing={COLLAPSIBLE_EASING}\n                >{label}</Collapsible>\n                : label\n            }\n            <div\n                style={{\n                    position: 'absolute',\n                    padding: '8px',\n                    top: '-12px',\n                    right: '2px',\n                    display: 'block',\n                    transition: 'transform 300ms',\n                    transform: isOpen ? 'rotateZ(180deg)' : ''\n                }}\n            >⋁</div>\n        </div>\n    );\n}\n\nexport default CollapseButton;","import React, { useState } from \"react\";\nimport Collapsible from \"react-collapsible\";\nimport { BoardLayout } from \"./BoardEncoding\";\nimport CollapseButton from \"./BoardForm/CollapseButton\";\nimport { PAGE_SECTION_STYLE } from \"./BoardGenerator\";\n\nexport type CardType = 'Blue' | 'Red' | 'Bystander' | 'Assassin' | 'DuetCorrect';\n\nexport interface BoardProps {\n    layout: BoardLayout<CardType | CardType[]>;\n};\n\nexport const typeToColor: { [K in CardType]: string } = {\n    Blue: '#268bad',\n    Red: '#c9461d',\n    Bystander: '#af926e',\n    Assassin: '#1b1b1b',\n    DuetCorrect: '#4CBB17'\n}\n\nconst BoardView: React.FC<BoardProps> = ({layout: { cards, mode, startColor, info }}) => (\n    mode === 'Standard'\n        ? <BoardSection defaultOpen={true} teamName=\"Codemasters\" startColor={startColor} cards={cards as CardType[][]}/>\n        : <DuetBoardView cards={cards as CardType[][][]} info={info}/>\n);\n\n\nconst SingleBoardView: React.FC<{cards: CardType[][], startColor: CardType}> = ({ cards, startColor }) => (\n    <div style={{\n        position: 'relative',\n        display: 'flex',\n        maxWidth: '720px',\n        minWidth: '424px',\n        aspectRatio: '1 / 1',\n        margin: '18px auto',\n        padding: '32px',\n        background: '#434343',\n        borderRadius: '12px',\n        border: '1px solid #777',\n        boxShadow: '8px 8px 12px #2b2b2b'\n    }}>\n        <HLight isTop={true} color={startColor} />\n        <HLight isTop={false} color={startColor} />\n        <VLight isLeft={true} color={startColor} />\n        <VLight isLeft={false} color={startColor} />\n        <div style={{\n            minWidth: '360px',\n            flex: 1,\n            aspectRatio: '1 / 1',\n            display: 'flex',\n            flexDirection: 'column',\n            borderRadius: '12px',\n            background: '#2b2b2b',\n            border: '1px solid #777',\n            padding: '8px',\n        }}>\n            {cards.map((row, colIndex) =>\n                <div key={colIndex} style={{\n                    display: 'flex',\n                    flexDirection: 'row',\n                    flex: 1\n                }}>\n                    {row.map((cellType, rowIndex) =>\n                        <div key={`${colIndex}-${rowIndex}`} style={{\n                            flex: 1,\n                            background: typeToColor[cellType],\n                            margin: '4px',\n                            borderRadius: '12px',\n                            boxShadow: '6px 6px 8px #1c1c1c',\n                            border: '1px solid #555'\n                        }} />\n                    )}\n                </div>\n            )}\n        </div>\n    </div>\n);\n\nconst DuetBoardView: React.FC<{cards: CardType[][][], info?: string[]}> = ({ cards, info}) => {\n    return (\n        <>\n            <BoardSection teamName=\"Team 1\" startColor=\"DuetCorrect\" cards={cards.map(row => row.map(cell => cell[0]))}/>\n            <BoardSection teamName=\"Team 2\" startColor=\"DuetCorrect\" cards={cards.map(row => row.map(cell => cell[1]))}/>\n            {info && <div style={{\n                    margin: 'auto',\n                    border: '1px solid #555',\n                    borderRadius: '16px',\n                    padding: '16px',\n                    boxShadow: '8px 8px 12px #2b2b2b'\n                }}>\n                <h3>Board Info</h3>\n                <ul>\n                    {info.map(item => <li style={{ margin: '8px 0'}}>{item}</li>)}\n                </ul>\n            </div>}\n        </>\n    );\n};\n\nconst HLight: React.FC<{ isTop: boolean, color?: CardType }> = ({ isTop, color = 'Bystander' }) => {\n    const lightColor = typeToColor[color];\n    return <div style={{\n        position: 'absolute',\n        top: isTop ? 0 : undefined,\n        bottom: isTop ? undefined : 0,\n        left: '40%',\n        height: '32px',\n        width: '20%',\n        margin: 'auto',\n        transform: `perspective(10px) rotateX(${isTop ? '-' : ''}1deg)`,\n        borderRadius: isTop ? '4px 4px 8px 8px' : '8px 8px 4px 4px',\n        background: `linear-gradient(to right, ${lightColor} 5%, #FFF 45%, #FFF 55%, ${lightColor} 95%)`,\n    }} />;\n};\n\nconst VLight: React.FC<{ isLeft: boolean, color?: CardType }> = ({ isLeft, color = 'Bystander' }) => {\n    const lightColor = typeToColor[color];\n    return <div style={{\n        position: 'absolute',\n        left: isLeft ? 0 : undefined,\n        right: isLeft ? undefined : 0,\n        top: '40%',\n        height: '20%',\n        width: '32px',\n        margin: 'auto',\n        transform: `perspective(10px) rotateY(${isLeft ? '' : '-'}1deg)`,\n        borderRadius: isLeft ? '4px 8px 8px 4px' : '8px 4px 4px 8px',\n        background: `linear-gradient(to bottom, ${lightColor} 5%, #FFF 45%, #FFF 55%, ${lightColor} 95%)`,\n    }} />\n};\n\ninterface BoardSectionProps {\n    teamName: string;\n    cards: CardType[][];\n    startColor: CardType;\n    defaultOpen?: boolean;\n}\n\nconst BoardSection = ({teamName, cards, startColor, defaultOpen = false }: BoardSectionProps) => {\n    const [isBoardOpen, setIsBoardOpen] = useState<boolean>(defaultOpen);\n    return <Collapsible\n        tabIndex={0}\n        trigger={<CollapseButton label={teamName} isOpen={isBoardOpen} closeLabelOnOpen={false} />}\n        open={isBoardOpen}\n        handleTriggerClick={() => {\n            if (!isBoardOpen && window.confirm(`For ${teamName}'s eyes only - are you sure?`)) {\n                setIsBoardOpen(true);\n            }\n            if (isBoardOpen) {\n                setIsBoardOpen(false);\n            }\n        }}\n        containerElementProps={{\n            style: PAGE_SECTION_STYLE\n        }}\n    >\n        <SingleBoardView cards={cards} startColor={startColor} />\n    </Collapsible>;\n}\n\nexport default BoardView;\n","import React from \"react\";\nimport { useControllableState, linkButtonStyle } from \"./BoardForm\";\n\nexport const BasicInput: React.FC<{ label: string; } & React.ComponentProps<\"input\">> = ({ label, value, defaultValue, ...inputProps }) => {\n    const [inputValue, setInputValue] = useControllableState(value, defaultValue || '');\n\n    return (\n        <label style={{ display: 'flex', flexDirection: 'column', margin: '8px' }}>\n            <span>{label} {defaultValue !== undefined && (\n                <button\n                    type=\"button\"\n                    style={{ ...linkButtonStyle, color: '#888', fontSize: '14px' }}\n                    onClick={() => {\n                        setInputValue(defaultValue);\n                        // @ts-ignore\n                        inputProps.onChange && inputProps.onChange({ target: { value: defaultValue } });\n                    }}\n                >\n                    Suggested: {defaultValue}\n                </button>\n            )}</span>\n            <input\n                {...inputProps}\n                value={inputValue}\n                onChange={(e) => {\n                    setInputValue(e.target.value);\n                    inputProps.onChange && inputProps.onChange(e);\n                }} />\n        </label>\n    );\n};\n","import React, { CSSProperties } from \"react\";\n\n\nexport interface InputCardProps {\n    title: string;\n    style?: CSSProperties;\n}\n\nexport const InputCard: React.FC<InputCardProps> = ({ title, style = {}, children }) => {\n    return (\n        <div style={{ marginLeft: '24px', marginBottom: '24px', maxWidth: '33%', minWidth: '180px', ...style }}>\n            <div style={{ paddingLeft: '16px', paddingBottom: '8px' }}><b>{title}</b></div>\n            <div style={{\n                border: '1px solid #555',\n                padding: '16px',\n                borderRadius: '16px',\n                boxShadow: '6px 6px 8px #2b2b2b',\n            }}>\n                {children}\n            </div>\n        </div>\n    );\n};\n","import React from \"react\";\nimport { useControllableState, linkButtonStyle } from \"./BoardForm\";\n\nexport const RadioInput: React.FC<{ title?: string; labels: string[]; } & React.ComponentProps<\"input\">> = ({ title, labels, value, defaultValue, onChange, ...inputProps }) => {\n    const [checkedLabel, setCheckedLabel] = useControllableState(value, defaultValue || labels[0]);\n\n    return (\n        <div>\n            {(title || defaultValue !== undefined) && <>\n                <div>\n                    {title}\n                    {defaultValue !== undefined && (\n                        <button\n                            type=\"button\"\n                            style={{ ...linkButtonStyle, color: '#888', fontSize: '14px' }}\n                            onClick={() => {\n                                // @ts-ignore\n                                onChange && onChange({ target: { value: defaultValue } });\n                                setCheckedLabel(defaultValue);\n                            }}\n                        >\n                            Suggested: {defaultValue}\n                        </button>\n                    )}\n                </div>\n                <hr />\n            </>}\n            {labels.map((label) => (\n                <label style={{ marginRight: '6px' }}>{label}\n                    <input\n                        type=\"radio\"\n                        value={label}\n                        checked={label === checkedLabel}\n                        onChange={(e) => {\n                            setCheckedLabel(label);\n                            onChange && onChange(e);\n                        }}\n                        {...inputProps} />\n                </label>\n            ))}\n        </div>\n    );\n};\n","import React from \"react\";\nimport { useControllableState, randomSeed, linkButtonStyle } from \"./BoardForm\";\n\nexport const SeedInput: React.FC<React.ComponentProps<\"input\">> = ({ key, value, onChange, ...inputProps }) => {\n    const [seed, setSeed] = useControllableState(value, randomSeed());\n\n    return (\n        <div>\n            <div>\n                Seed\n                <button\n                    type=\"button\"\n                    style={{ ...linkButtonStyle, color: '#888', fontSize: '14px' }}\n                    onClick={() => {\n                        const newSeed = randomSeed();\n                        setSeed(newSeed);\n                        // @ts-ignore\n                        onChange && onChange({ target: { value: newSeed } });\n                    }}\n                >\n                    New Seed\n                </button>\n            </div>\n            <input\n                {...inputProps}\n                type=\"text\"\n                value={seed}\n                onChange={(e) => {\n                    setSeed(e.target.value);\n                    onChange && onChange(e);\n                }} />\n        </div>\n    );\n};\n","import React, { FormEventHandler, useState } from \"react\";\nimport Collapsible from \"react-collapsible\";\nimport { PAGE_SECTION_STYLE } from \"../BoardGenerator\";\nimport { typeToColor } from \"../BoardView\";\nimport { BasicInput } from \"./BasicInput\";\nimport CollapseButton, {COLLAPSIBLE_EASING, COLLAPSIBLE_TIME} from \"./CollapseButton\";\nimport { InputCard } from \"./InputCard\";\nimport { RadioInput } from \"./RadioInput\";\nimport { SeedInput } from \"./SeedInput\";\n\nexport type GameMode = 'Standard' | 'Duet';\n\nexport interface CodenamesFormData {\n    boardRows: number;\n    boardColumns: number;\n    cards: number;\n    startCards: number;\n    assassins: number;\n    startColor: 'Blue' | 'Red' | 'Random';\n    seed: string;\n    mode: GameMode;\n    [key: string]: string | number;\n}\n\nexport interface ModeConfig {\n    mode: GameMode;\n    \n}\n  \nexport interface BoardFormProps {\n    formData?: CodenamesFormData;\n    setFormData: (formData: CodenamesFormData) => void\n}\n\nexport const linkButtonStyle = {\n    padding: 'none',\n    background: 'none',\n    border: 'none',\n    cursor: 'pointer',\n    fontFamily: 'Helvetica,Arial,sans-serif',\n    fontSize: '16px',\n    textDecoration: 'underline',\n    color: '#FFF'\n};\n\nconst defaultFormValues: { [mode in GameMode]: CodenamesFormData } = {\n    Standard: {\n        boardRows: 5,\n        boardColumns: 5,\n        cards: 8,\n        startCards: 1,\n        assassins: 1,\n        startColor: 'Random',\n        mode: 'Standard',\n        seed: ''\n    },\n    Duet: {\n        boardRows: 5,\n        boardColumns: 5,\n        cards: 9,\n        startCards: 0,\n        assassins: 3,\n        startColor: 'Random',\n        mode: 'Duet',\n        seed: ''\n    }\n};\n\n\nconst BoardForm: React.FC<BoardFormProps> = ({ formData, setFormData }) => {\n    const startValues = formData\n        ? formData\n        : {\n            ...defaultFormValues.Standard,\n            seed: randomSeed()\n        };\n\n    // for animations\n    const [proxyGameMode, setProxyGameMode] = useState(startValues.mode);\n    const [mode, _setGameMode] = useState(startValues.mode);\n\n    const [rows, setRows] = useState(startValues.boardRows);\n    const [columns, setColumns] = useState(startValues.boardColumns);\n    const [cards, setCards] = useState(startValues.cards);\n    const [startCards, setStartCards] = useState(startValues.startCards);\n    const [assassins, setAssassins] = useState(startValues.assassins);\n    const [startColor, setStartColor] = useState(startValues.startColor);\n    const [seed, setSeed] = useState(startValues.seed);\n\n    const [newSeedOnGenerate, setNewSeedOnGenerate] = useState<boolean>(true);\n    const [closeConfigOnGenerate, setCloseConfigOnGenerate] = useState<boolean>(true);\n    const [error, setError] = useState<string | null>(null);\n\n    const [isCollapsibleOpen, setIsCollapsibleOpen] = useState<boolean>(true);\n    const [resetFormInputs, setResetFormInputs] = useState<boolean>(false);\n\n    const setErrorTimeout: typeof setError = (action) => {\n        setTimeout(() => setError(null), 6 * 1000);\n        setError(action);\n    }\n\n    const setGameMode = (newMode: GameMode) => {\n        if (mode !== newMode) {\n            const defaults = defaultFormValues[newMode];\n            setRows(defaults.boardRows);\n            setColumns(defaults.boardColumns);\n            setCards(defaults.cards);\n            setStartCards(defaults.startCards);\n            setAssassins(defaults.assassins);\n            setStartColor(defaults.startColor);\n            setResetFormInputs(false);\n        }\n        _setGameMode(newMode);\n    };\n\n    const onFormSubmit: FormEventHandler<HTMLFormElement> = (e) => {\n        e.preventDefault();\n        const formData: any = {};\n        for (let [k, v] of (new FormData(e.currentTarget)).entries()) {\n            formData[k] = /^\\d+$/.test(v as string) ? parseInt(v as string) : v;\n        }\n\n        if (newSeedOnGenerate) {\n            const newSeed = randomSeed();\n            formData.seed = newSeed;\n            setSeed(newSeed);\n        }\n        const totalCards = formData.boardRows * formData.boardColumns;\n\n        const configuredCards = mode === 'Standard' \n            ? formData.cards * 2 + formData.startCards + formData.assassins\n            : formData.cards + formData.assassins;\n        if (configuredCards > totalCards) {\n            setErrorTimeout(`Too many configured cards (${configuredCards}) for this board (${formData.boardRows}x${formData.boardColumns}=${totalCards})`);\n            return false;\n        } else {\n            if (closeConfigOnGenerate) {\n                setIsCollapsibleOpen(false);\n            }\n            setFormData(formData);\n        }\n    };\n\n    return (\n        <Collapsible \n            tabIndex={0}\n            open={isCollapsibleOpen}\n            onTriggerOpening={() => setIsCollapsibleOpen(true)}\n            onTriggerClosing={() => setIsCollapsibleOpen(false)}\n            trigger={<CollapseButton isOpen={isCollapsibleOpen} label=\"Game Config\"/>}\n            containerElementProps={{style: PAGE_SECTION_STYLE}}\n            transitionTime={COLLAPSIBLE_TIME}\n            easing={COLLAPSIBLE_EASING}\n        >\n            <form onSubmit={onFormSubmit}>\n                <div style={{\n                    display: 'flex',\n                    flexWrap: 'wrap'\n                }}>\n                    {/* TODO confirm board reset */}\n                    <InputCard title=\"Game Mode\">\n                        <RadioInput labels={['Standard', 'Duet']} name=\"mode\" value={mode} onChange={(e) => {\n                            if (!window.confirm('This will reset config to default values - are you sure?')) {\n                                return;\n                            }\n                            setProxyGameMode(e.target.value as any);\n                            setResetFormInputs(true);\n                        }} />\n                    </InputCard>\n                </div>\n                <hr style={{ height: '1px', border: 'none', background: '#555', margin: '24px 0' }} />\n                <Collapsible \n                    trigger=\"\" \n                    open={!resetFormInputs} onClose={() => setGameMode(proxyGameMode)}\n                    transitionTime={COLLAPSIBLE_TIME}\n                    easing={COLLAPSIBLE_EASING}\n                >\n                    <div style={{\n                        display: 'flex',\n                        flexWrap: 'wrap',\n                        marginBottom: '24px'\n                    }}>\n                        \n                        <InputCard title=\"Board\">\n                            <BasicInput label=\"Rows\" type=\"number\" name=\"boardRows\" value={rows} onChange={(e) => setRows(parseInt(e.target.value))} defaultValue={defaultFormValues[mode].boardRows} />\n                            <BasicInput label=\"Columns\" type=\"number\" name=\"boardColumns\" value={columns} onChange={(e) => setColumns(parseInt(e.target.value))} defaultValue={defaultFormValues[mode].boardColumns} />\n                        </InputCard>\n                        <InputCard title=\"Game\">\n                            <BasicInput label=\"Team Cards\" type=\"number\" name=\"cards\" value={cards} onChange={(e) => setCards(parseInt(e.target.value))} defaultValue={suggestedCards(rows, columns, mode)} />\n                            <BasicInput label=\"Assassins\" type=\"number\" name=\"assassins\" value={assassins} onChange={(e) => setAssassins(parseInt(e.target.value))} defaultValue={suggestedAssassins(rows, columns, mode)} />\n                        </InputCard>\n                        {mode==='Standard' && <InputCard title=\"Standard Mode\">\n                            <BasicInput label=\"Start Handicap\" type=\"number\" name=\"startCards\" value={startCards} onChange={(e) => setStartCards(parseInt(e.target.value))} defaultValue={defaultFormValues[mode].startCards} />\n                            <RadioInput title=\"Starting Team\" labels={['Red', 'Blue', 'Random']} name=\"startColor\" value={startColor} onChange={(e) => setStartColor(e.target.value as any)} defaultValue=\"Random\" />\n                        </InputCard>}\n                        <InputCard title=\"Random\">\n                            <SeedInput name=\"seed\" value={seed} onChange={(e) => setSeed(e.target.value)}/>\n                        </InputCard>\n                        \n                    </div>\n                    <button style={{ \n                        background: typeToColor[mode === 'Standard' ? 'Blue' : 'DuetCorrect'], \n                        marginRight: '12px' \n                    }}>\n                        Generate\n                    </button>\n                    <label style={{ marginRight: '12px', color: '#888', fontSize: '14px' }}>\n                        <input type=\"checkbox\" checked={newSeedOnGenerate} onChange={(e) => setNewSeedOnGenerate(e.target.checked)}/>\n                        with a new random seed\n                    </label>\n                    <label style={{ marginRight: '12px', color: '#888', fontSize: '14px' }}>\n                        <input type=\"checkbox\" checked={closeConfigOnGenerate} onChange={(e) => setCloseConfigOnGenerate(e.target.checked)}/>\n                        Close config?\n                    </label>\n\n                    <button\n                        type=\"button\"\n                        onClick={() => {\n                            const defaults = defaultFormValues[mode];\n                            setRows(defaults.boardRows);\n                            setColumns(defaults.boardColumns);\n                            setCards(defaults.cards);\n                            setStartCards(defaults.startCards);\n                            setAssassins(defaults.assassins);\n                            setStartColor(defaults.startColor);\n                            setSeed(randomSeed());\n                        }}\n                        style={{ \n                            background: typeToColor[mode === 'Standard' ? 'Red' : 'Bystander'],\n                            marginRight: '12px' \n                        }}>\n                        Reset Defaults\n                    </button>\n                    {error && <span className=\"fade-out\" style={{ color: '#c9461d' }}>{error}</span>}\n                </Collapsible>\n            </form>\n        </Collapsible>\n    );\n};\n\nconst suggestedCards = (rows: number, columns: number, gameMode: GameMode) => {\n    if (!rows || !columns) {\n        return defaultFormValues[gameMode].cards;\n    }\n    if (gameMode === 'Standard') {\n        return Math.floor(rows * columns/3);\n    } else {\n        return Math.floor(rows * columns/3) + 1;\n    }\n};\n\nconst suggestedAssassins = (rows: number, columns: number, gameMode: GameMode) => \n    Math.floor(rows * columns / (gameMode === 'Standard' ? 15 : 8)) || defaultFormValues[gameMode].assassins;\n\nexport const randomSeed = (): string => Math.random().toString(36).slice(2);\n\nexport function useControllableState<T>(value: T, initialValue?: T | undefined): [state: T, setState: (action: React.SetStateAction<T>) => void] {\n    const [stateValue, setState] = useState(initialValue || value);\n    const effectiveValue = value !== undefined ? value : stateValue;\n    return [effectiveValue, setState];\n}\n\nexport default BoardForm;\n","\nimport chunk from 'lodash/chunk';\nimport fill from 'lodash/fill';\nimport seedrandom from 'seedrandom';\nimport { CodenamesFormData, GameMode } from './BoardForm/BoardForm';\nimport { CardType } from './BoardView';\n\nexport type FormDataVersion = 0 | 1 | 2;\n// eslint-disable-next-line\nconst UNKNOWN_VERSION = 0;\nconst WRITE_VERSION = 2;\n\nconst v1FormDataKeys = [\n    'boardRows',\n    'boardColumns',\n    'cards',\n    'startCards',\n    'startColor',\n    'assassins',\n    'seed'\n].sort();\n\nconst v2FormDataKeys = [\n    ...v1FormDataKeys,\n    'mode',\n].sort();\n\nconst formDataKeys = [\n    [],\n    v1FormDataKeys,\n    v2FormDataKeys\n];\n\nexport const encodeFormData = (formData: CodenamesFormData): string => {\n    const orderedValues = formDataKeys[WRITE_VERSION]\n                            .map((k): [k: string, v: string | number] => [k, formData[k]])\n                            .sort(([k1], [k2]) => k1.localeCompare(k2))\n                            .map(([_, v]) => v);\n    return btoa(JSON.stringify([WRITE_VERSION, ...orderedValues]));\n}\n\nexport const decodeFormData = (slug: string): CodenamesFormData | undefined => {\n    let orderedValues: any[] = [];\n    let version: FormDataVersion = 0;\n    try {\n        [version, ...orderedValues] = JSON.parse(atob(slug));\n    } catch {\n        return undefined;\n    }\n\n    switch(version) {\n        case 1:\n            return v1DecodeFormData(orderedValues);\n        case 2:\n            return v2DecodeFormData(orderedValues);\n        default:\n            return undefined;\n    }\n};\n\nconst v1DecodeFormData = (orderedValues: any[]): CodenamesFormData | undefined => {\n    const maybeFormData = decodeWithKeys(orderedValues, v1FormDataKeys);\n    if (maybeFormData) {\n        maybeFormData.mode = 'Standard';\n    }\n\n    return validate(maybeFormData);\n}\n\nconst v2DecodeFormData = (orderedValues: any[]): CodenamesFormData | undefined => \n    validate(decodeWithKeys(orderedValues, v2FormDataKeys));\n\nconst decodeWithKeys = (orderedValues: any[], orderedKeys: string[]): CodenamesFormData | undefined => {\n    if (orderedValues && orderedValues.length <= orderedKeys.length) {\n        const ret: any = {};\n        orderedKeys.forEach((key, i) => ret[key] = orderedValues[i]);\n        return ret;\n    }\n\n    return undefined;\n};\n\nconst validate = (maybeFormData: any): CodenamesFormData | undefined => {\n    if (isValidFormData(maybeFormData)) {\n        return maybeFormData;\n    }\n    return undefined;\n};\n\nconst isValidFormData = (maybeFormData: any): boolean => (\n    maybeFormData && \n    maybeFormData.boardRows && \n    maybeFormData.boardColumns && \n    maybeFormData.cards && \n    !isNaN(maybeFormData.startCards) && \n    !isNaN(maybeFormData.assassins) && \n    maybeFormData.seed &&\n    maybeFormData.mode\n);\n\nexport const getStartColor = (\n    startColor: 'Random' | 'Blue' | 'Red', \n    seed: string\n): 'Blue' | 'Red' => {\n    if (startColor === 'Random') {\n        return seededRandomInt(seed + 'start')(0, 1) ? 'Blue' : 'Red';\n    } else {\n        return startColor;\n    }\n}\n\nexport interface BoardLayout<C> {\n    mode: GameMode;\n    cards: C[][]\n    startColor: CardType;\n    info?: string[];\n}\n\nexport const createLayout = (formData: CodenamesFormData): BoardLayout<CardType | CardType[]> => (\n    formData.mode === 'Standard'\n        ? createStandardLayout(formData)\n        : createDuetLayout(formData)\n);\n\nconst createStandardLayout = ({\n    boardRows,\n    boardColumns,\n    cards,\n    startCards,\n    startColor,\n    assassins,\n    seed\n}: CodenamesFormData): BoardLayout<CardType> =>  {\n    const rand = seededRandomInt(seed);\n\n    const actualStartColor = getStartColor(startColor, seed);\n    const blueCards = cards + (actualStartColor === 'Blue' ? startCards : 0);\n    const redCards = cards + (actualStartColor === 'Red' ? startCards : 0);\n\n    const flatLayout: CardType[] = fill(Array(boardRows * boardColumns), 'Bystander');\n    let step = 0;\n    step = _fill(flatLayout, 'Blue', step, step + blueCards)\n    step = _fill(flatLayout, 'Red', step, step + redCards);\n    _fill(flatLayout, 'Assassin', step, step + assassins);\n\n    shuffle(flatLayout, rand);\n\n    return {mode: 'Standard', cards: chunk(flatLayout, boardColumns), startColor: getStartColor(startColor, seed)};\n};\n\nconst createDuetLayout = ({\n    boardRows,\n    boardColumns,\n    cards,\n    assassins,\n    seed,\n}: CodenamesFormData): BoardLayout<CardType[]> =>  {\n    const rand = seededRandomInt(seed);\n\n    // 1/3 of team cards should overlap\n    const bothCorrect = Math.floor(cards/3);\n    // try to use 1/3 of assassins, but don't exceed remaining correct\n    const correctAssassins = Math.min(cards - bothCorrect, Math.floor(assassins/3)); \n    // correct/bystander is remainder\n    const correctBystanders = cards - (bothCorrect + correctAssassins);\n\n    const remainderAfterCorrect = (boardRows * boardColumns) - (bothCorrect + 2*correctAssassins + 2*correctBystanders);\n\n    // try to split assassins between doubled and bystander, but use doubled if not enough bystanders left\n    const remainingAssassins = assassins - correctAssassins;\n    const bystanderAssassins = Math.min(Math.floor(remainingAssassins/2), remainderAfterCorrect - remainingAssassins);\n    const bothAssassins = remainingAssassins - bystanderAssassins;\n\n    const flatLayout: CardType[][] = fill(Array(boardRows * boardColumns), ['Bystander', 'Bystander']);\n    let step = 0;\n    step = _fill(flatLayout, ['DuetCorrect', 'DuetCorrect'], step, step + bothCorrect);\n    step = _fill(flatLayout, ['DuetCorrect', 'Assassin'], step, step + correctAssassins);\n    step = _fill(flatLayout, ['Assassin', 'DuetCorrect'], step, step + correctAssassins);\n    step = _fill(flatLayout, ['DuetCorrect', 'Bystander'], step, step + correctBystanders);\n    step = _fill(flatLayout, ['Bystander', 'DuetCorrect'], step, step + correctBystanders);\n    step = _fill(flatLayout, ['Assassin', 'Assassin'], step, step + bothAssassins);\n    step = _fill(flatLayout, ['Bystander', 'Assassin'], step, step + bystanderAssassins);\n    step = _fill(flatLayout, ['Assassin', 'Bystander'], step, step + bystanderAssassins);\n\n    shuffle(flatLayout, rand);\n    return {\n        mode: 'Duet',\n        cards: chunk(flatLayout, boardColumns), \n        startColor: 'DuetCorrect',\n        info: [\n            `Correct / Correct: ${bothCorrect} total`,\n            `Correct / Assassin: ${correctAssassins} per team`,\n            `Correct / Bystander: ${correctBystanders} per team`,\n            `Assassin / Assassin: ${bothAssassins} total`,\n            `Assassin / Bystander: ${bystanderAssassins} per team`,\n            `Bystander / Bystander: ${boardRows * boardColumns - step} total`,\n        ]\n    }\n};\n\n// fill and return end pos\nfunction _fill<T>(arr: T[], value: T, start: number, end: number): number {\n    fill(arr, value, start, end)\n    return end;\n}\n\nfunction shuffle<T>(arr: T[], rand: (min: number, max: number) => number): void {\n    for (var i = arr.length - 1; i > 0; i--) {\n        const j = rand(0, i);\n        [arr[i], arr[j]] = [arr[j], arr[i]];\n    }\n}\n\nexport const seededRandomInt = (seed: string): (min: number, max: number) => number => {\n    const rand = seedrandom(seed);\n    return (min: number, max: number): number => Math.floor(rand() * (max - min + 1) + min);\n};\n","import { CSSProperties, useState } from 'react';\nimport BoardView from './BoardView';\nimport BoardForm, { CodenamesFormData } from './BoardForm/BoardForm';\nimport { useParams } from 'react-router';\nimport { useNavigate } from 'react-router-dom';\nimport { createLayout, decodeFormData, encodeFormData } from './BoardEncoding';\n\nexport const PAGE_SECTION_STYLE: CSSProperties = {\n    marginBottom: '48px',\n    border: '1px solid #555',\n    borderRadius: '16px',\n    padding: '16px',\n    boxShadow: '8px 8px 12px #2b2b2b',\n    minWidth: '490px',\n    flexGrow: 1,\n};\n\nconst BoardGenerator = () => {\n    const params = useParams();\n    const slug: string | undefined = params.slug;\n    let initialFormData = undefined;\n    if (slug) {\n        initialFormData = decodeFormData(slug);\n    }\n    const [formData, setFormData] = useState<CodenamesFormData | undefined>(initialFormData);\n    const navigate = useNavigate();\n\n    const setFormDataAndHash = (newFormData: CodenamesFormData) => {\n        setFormData(newFormData);\n        navigate(`/${encodeFormData(newFormData)}`)\n    }\n    \n    return (\n        <div style={{ height: '100%', margin: '48px' }}>\n            <h1>Codenames Board Generator</h1>\n            <a \n                href=\"https://github.com/tristanjohnson849/codenames-scaler\"\n                style={{ \n                    position: 'absolute',\n                    margin: '60px',\n                    top: '0px', \n                    right: '0px', \n                    color: '#777', \n                    fontSize: '18px',\n                    textDecoration: 'none'\n                }}\n                target=\"blank\"\n            >\n                Source\n            </a>\n            <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'stretch',\n                maxWidth: '1000px',\n                margin: 'auto'\n            }}>\n                <BoardForm formData={formData} setFormData={(formData) => setFormDataAndHash(formData)}/>\n                {formData && <BoardView key={encodeFormData(formData)} layout={createLayout(formData)}/>}\n            </div>\n        </div>\n    );\n}\n\nexport default BoardGenerator;\n","import React from 'react';\nimport { HashRouter, Route, Routes } from 'react-router-dom';\nimport BoardGenerator from './BoardGenerator';\n\nconst App = () => (\n  <HashRouter>\n    <Routes>\n      <Route path=\"\" element={<BoardGenerator/>}/>\n      <Route path=\":slug\" element={<BoardGenerator/>}/>\n    </Routes>\n  </HashRouter>\n);\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}